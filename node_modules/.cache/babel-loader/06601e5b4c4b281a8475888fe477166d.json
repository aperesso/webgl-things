{"ast":null,"code":"import * as THREE from 'three';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\nimport Sphere from './scene/Sphere';\nimport Background from './scene/Background';\nimport { CAMERA_SETTINGS } from './settings';\nimport './index.css';\n\nconst App = function () {\n  this.setup = function () {\n    const _this$getDimensions = this.getDimensions(),\n          width = _this$getDimensions.width,\n          height = _this$getDimensions.height;\n\n    const canvas = document.getElementById(\"canvas\");\n    const scene = new THREE.Scene();\n    const camera = new THREE.PerspectiveCamera(CAMERA_SETTINGS.fov, width / height, CAMERA_SETTINGS.near, CAMERA_SETTINGS.far);\n    camera.position.set(0, 0, 30);\n    const renderer = new THREE.WebGLRenderer({\n      antialias: true,\n      canvas\n    });\n    renderer.setSize(width, height);\n    renderer.shadowMap.enabled = true;\n    renderer.gammaFactor = 2.2;\n    renderer.gammaOutput = true;\n    renderer.shadowMap.type = THREE.PCFSoftShadowMap; // renderer.physicallyCorrectLights = true;\n\n    this.scene = scene;\n    this.camera = camera;\n    this.renderer = renderer;\n    this.controls = new OrbitControls(this.camera, this.renderer.domElement);\n  };\n\n  this.lightUpScene = function () {\n    const ambientLight = new THREE.AmbientLight(0x404040, 0.5);\n    this.scene.add(ambientLight);\n    const directionalLight = new THREE.DirectionalLight(0xfafafa, 0.8);\n    directionalLight.position.set(40, -2, 80);\n    directionalLight.castShadow = true;\n    directionalLight.shadow.mapSize.width = 512; // default\n\n    directionalLight.shadow.mapSize.height = 512; // default\n\n    directionalLight.shadow.camera.near = 0.1; // default\n\n    directionalLight.shadow.camera.far = 500; // default\n\n    directionalLight.shadow.camera.left = -10;\n    directionalLight.shadow.camera.right = 10;\n    directionalLight.shadow.camera.top = -10;\n    directionalLight.shadow.camera.bottom = 10; // directionalLight.shadow.mapSize.width = 2048;\n    // directionalLight.shadow.mapSize.height = 2048;\n\n    const pointLight = new THREE.PointLight(0xcccccc, 0.7);\n    pointLight.position.set(1, 6, 12);\n    this.scene.add(pointLight);\n    this.scene.add(directionalLight);\n    var helper = new THREE.CameraHelper(directionalLight.shadow.camera);\n    this.scene.add(helper);\n  };\n\n  this.load = function () {\n    this.sphere = new Sphere();\n    this.background = new Background();\n    this.scene.add(this.sphere.mesh);\n    this.scene.add(this.background.mesh);\n  };\n\n  this.getDimensions = function () {\n    const canvas = document.getElementById(\"canvas\");\n\n    const _canvas$getBoundingCl = canvas.getBoundingClientRect(),\n          width = _canvas$getBoundingCl.width,\n          height = _canvas$getBoundingCl.height;\n\n    return {\n      width,\n      height\n    };\n  };\n\n  this.loop = function () {\n    this.renderer.setAnimationLoop(() => {\n      this.renderer.render(this.scene, this.camera);\n    });\n  };\n};\n\nconst app = new App();\napp.setup();\napp.lightUpScene();\napp.load();\napp.loop();","map":{"version":3,"sources":["/Users/alexiaperesson/webgl-things/src/index.js"],"names":["THREE","OrbitControls","Sphere","Background","CAMERA_SETTINGS","App","setup","getDimensions","width","height","canvas","document","getElementById","scene","Scene","camera","PerspectiveCamera","fov","near","far","position","set","renderer","WebGLRenderer","antialias","setSize","shadowMap","enabled","gammaFactor","gammaOutput","type","PCFSoftShadowMap","controls","domElement","lightUpScene","ambientLight","AmbientLight","add","directionalLight","DirectionalLight","castShadow","shadow","mapSize","left","right","top","bottom","pointLight","PointLight","helper","CameraHelper","load","sphere","background","mesh","getBoundingClientRect","loop","setAnimationLoop","render","app"],"mappings":"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","sourcesContent":["import * as THREE from 'three';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\n\nimport Sphere from './scene/Sphere';\nimport Background from './scene/Background';\n\nimport { CAMERA_SETTINGS }  from './settings';\n\nimport './index.css';\n\nconst App = function() {\n  this.setup = function() {\n    const { width , height } = this.getDimensions();\n    const canvas = document.getElementById(\"canvas\");\n\n    const scene = new THREE.Scene();\n    const camera = new THREE.PerspectiveCamera(\n      CAMERA_SETTINGS.fov,\n      width / height,\n      CAMERA_SETTINGS.near,\n      CAMERA_SETTINGS.far)\n    camera.position.set(0,0, 30);\n\n    const renderer = new THREE.WebGLRenderer({antialias : true, canvas});\n    renderer.setSize(width, height);\n    renderer.shadowMap.enabled = true;\n    renderer.gammaFactor = 2.2;\n    renderer.gammaOutput = true;\n    renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n    // renderer.physicallyCorrectLights = true;\n\n    this.scene = scene;\n    this.camera = camera;\n    this.renderer = renderer;\n    this.controls = new OrbitControls(this.camera, this.renderer.domElement);\n  }\n\n  this.lightUpScene = function() {\n    const ambientLight = new THREE.AmbientLight(0x404040, 0.5);\n    this.scene.add(ambientLight);\n\n    const directionalLight = new THREE.DirectionalLight(0xfafafa, 0.8)\n    directionalLight.position.set(40,-2,80)\n    directionalLight.castShadow = true;\n\n    directionalLight.shadow.mapSize.width = 512;  // default\n    directionalLight.shadow.mapSize.height = 512; // default\n    directionalLight.shadow.camera.near = 0.1;       // default\n    directionalLight.shadow.camera.far = 500      // default\n    directionalLight.shadow.camera.left = -10;\n    directionalLight.shadow.camera.right = 10;\n    directionalLight.shadow.camera.top = -10;\n    directionalLight.shadow.camera.bottom = 10;\n\n\n    // directionalLight.shadow.mapSize.width = 2048;\n    // directionalLight.shadow.mapSize.height = 2048;\n\n    const pointLight =new THREE.PointLight(0xcccccc, 0.7);\n    pointLight.position.set(1,6,12)\n    this.scene.add(pointLight)\n   \n    this.scene.add(directionalLight);\n\n    var helper = new THREE.CameraHelper( directionalLight.shadow.camera );\n    this.scene.add( helper );\n\n\n\n  \n  }\n\n  this.load = function() {\n    this.sphere = new Sphere();\n    this.background = new Background();\n\n    this.scene.add(this.sphere.mesh);\n    this.scene.add(this.background.mesh);\n  }\n\n  this.getDimensions = function() {\n    const canvas = document.getElementById(\"canvas\");\n    const { width , height } = canvas.getBoundingClientRect();\n    return {width, height}\n  }\n\n  this.loop = function() {\n    this.renderer.setAnimationLoop(\n      () => {\n        this.renderer.render(this.scene, this.camera)\n      }\n    )\n  }\n\n}\n\nconst app = new App();\napp.setup();\napp.lightUpScene();\napp.load();\napp.loop()"]},"metadata":{},"sourceType":"module"}