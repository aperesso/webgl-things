{"ast":null,"code":"import * as THREE from 'three';\nimport Mover from './Mover';\nimport { loadTexture } from '../utils';\n\nclass Movers {\n  constructor() {\n    this.cubeCamera = null;\n    this.count = 40;\n    this.array = new Array(this.count).fill(null).map(i => new Mover());\n  }\n\n}\n\nMovers.prototype.init = async function (cubeCamera) {\n  this.cubeCamera = cubeCamera;\n  const scales = new Array(4).fill(null).map(() => THREE.Math.randFloat(0.3, 0.5));\n  const geometries = new Array(4).fill(null).map((_, i) => new THREE.SphereBufferGeometry(scales[i], 8, 8));\n  const texture = await loadTexture('glitter.jpg');\n  const material = new THREE.MeshBasicMaterial({\n    color: 0xfafafa,\n    shininess: 1,\n    map: this.cubeCamera.renderTarget.texture // envMap: this.cubeCamera.srenderTarget.texture\n\n  });\n  this.array.forEach((_, i) => {\n    const mesh = new THREE.Mesh(geometries[i % 4], material);\n    this.array[i].initMesh(mesh);\n  });\n};\n\nMovers.prototype.animate = function (time) {\n  this.array.forEach(mover => mover.animate(time));\n};\n\nexport default Movers;","map":{"version":3,"sources":["/Users/alexiaperesson/webgl-things/src/classes/Movers.js"],"names":["THREE","Mover","loadTexture","Movers","constructor","cubeCamera","count","array","Array","fill","map","i","prototype","init","scales","Math","randFloat","geometries","_","SphereBufferGeometry","texture","material","MeshBasicMaterial","color","shininess","renderTarget","forEach","mesh","Mesh","initMesh","animate","time","mover"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AAEA,SAASC,WAAT,QAA4B,UAA5B;;AAEA,MAAMC,MAAN,CAAa;AACTC,EAAAA,WAAW,GAAG;AACV,SAAKC,UAAL,GAAkB,IAAlB;AACA,SAAKC,KAAL,GAAa,EAAb;AACA,SAAKC,KAAL,GAAa,IAAIC,KAAJ,CAAU,KAAKF,KAAf,EAAsBG,IAAtB,CAA2B,IAA3B,EAAiCC,GAAjC,CAAqCC,CAAC,IAAI,IAAIV,KAAJ,EAA1C,CAAb;AACH;;AALQ;;AAQbE,MAAM,CAACS,SAAP,CAAiBC,IAAjB,GAAwB,gBAAeR,UAAf,EAA2B;AAE/C,OAAKA,UAAL,GAAkBA,UAAlB;AACA,QAAMS,MAAM,GAAG,IAAIN,KAAJ,CAAU,CAAV,EAAaC,IAAb,CAAkB,IAAlB,EAAwBC,GAAxB,CAA4B,MAAMV,KAAK,CAACe,IAAN,CAAWC,SAAX,CAAqB,GAArB,EAA0B,GAA1B,CAAlC,CAAf;AAEA,QAAMC,UAAU,GAAG,IAAIT,KAAJ,CAAU,CAAV,EAAaC,IAAb,CAAkB,IAAlB,EAAwBC,GAAxB,CACf,CAACQ,CAAD,EAAIP,CAAJ,KAAU,IAAIX,KAAK,CAACmB,oBAAV,CAA+BL,MAAM,CAACH,CAAD,CAArC,EAA0C,CAA1C,EAA6C,CAA7C,CADK,CAAnB;AAGA,QAAMS,OAAO,GAAG,MAAMlB,WAAW,CAAC,aAAD,CAAjC;AACA,QAAMmB,QAAQ,GAAG,IAAIrB,KAAK,CAACsB,iBAAV,CAA4B;AACzCC,IAAAA,KAAK,EAAE,QADkC;AAEzCC,IAAAA,SAAS,EAAE,CAF8B;AAGzCd,IAAAA,GAAG,EAAE,KAAKL,UAAL,CAAgBoB,YAAhB,CAA6BL,OAHO,CAIzC;;AAJyC,GAA5B,CAAjB;AAOA,OAAKb,KAAL,CAAWmB,OAAX,CACI,CAACR,CAAD,EAAIP,CAAJ,KAAU;AACN,UAAMgB,IAAI,GAAG,IAAI3B,KAAK,CAAC4B,IAAV,CAAeX,UAAU,CAACN,CAAC,GAAC,CAAH,CAAzB,EAAgCU,QAAhC,CAAb;AACA,SAAKd,KAAL,CAAWI,CAAX,EAAckB,QAAd,CAAuBF,IAAvB;AACH,GAJL;AAMH,CAtBD;;AAwBAxB,MAAM,CAACS,SAAP,CAAiBkB,OAAjB,GAA2B,UAASC,IAAT,EAAe;AACtC,OAAKxB,KAAL,CAAWmB,OAAX,CAAmBM,KAAK,IAAIA,KAAK,CAACF,OAAN,CAAcC,IAAd,CAA5B;AACH,CAFD;;AAIA,eAAe5B,MAAf","sourcesContent":["import * as THREE from 'three';\nimport Mover from './Mover'\n\nimport { loadTexture } from '../utils'\n\nclass Movers {\n    constructor() {\n        this.cubeCamera = null;\n        this.count = 40;\n        this.array = new Array(this.count).fill(null).map(i => new Mover());\n    }\n}\n\nMovers.prototype.init = async function(cubeCamera) {\n\n    this.cubeCamera = cubeCamera;\n    const scales = new Array(4).fill(null).map(() => THREE.Math.randFloat(0.3, 0.5));\n\n    const geometries = new Array(4).fill(null).map(\n        (_, i) => new THREE.SphereBufferGeometry(scales[i], 8, 8));\n\n    const texture = await loadTexture('glitter.jpg');\n    const material = new THREE.MeshBasicMaterial({\n        color: 0xfafafa, \n        shininess: 1,\n        map: this.cubeCamera.renderTarget.texture,\n        // envMap: this.cubeCamera.srenderTarget.texture\n    })\n\n    this.array.forEach(\n        (_, i) => {\n            const mesh = new THREE.Mesh(geometries[i%4], material);\n            this.array[i].initMesh(mesh)\n        }\n    )\n}\n\nMovers.prototype.animate = function(time) {\n    this.array.forEach(mover => mover.animate(time));\n}\n\nexport default Movers;\n"]},"metadata":{},"sourceType":"module"}